import type { SpritePixels } from "../types";

// Obstacle sprites for Frogger-style game
// All sprites face RIGHT by default; renderer flips for left-flowing lanes
// Palette key:
//  0 = transparent
//  1 = dark navy (outlines)
//  3 = cranberry (car body)
//  5 = gold (headlights, truck accent)
//  6 = lime (log moss)
//  7 = green (truck body)
// 10 = medium blue (car variant)
// 13 = near-white (windshield highlights, headlights)
// 14 = steel gray (train body, bumpers)
// 15 = slate (train body, details)
// 16 = charcoal (undercarriage, wheel wells)
// 17 = lobster red (taillights)
// 29 = warning yellow (train markings)
// 30 = warning red (train nose, taillights)
// 31 = black (wheels, tires)

// Car: 32x16 — cranberry sedan facing right
// Hood on right with headlights, trunk on left with taillights,
// cabin in middle with windshield reflections
// prettier-ignore
const CAR: SpritePixels = [
  [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 3,14,14,14,14,14,14, 3, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 3,14,11,11,11,11,11,11,14, 3, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [ 0, 0, 0, 0, 0, 0, 0, 0, 1, 3, 3,14,11,13,13,13,13,13,13,14, 3, 3, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0],
  [ 0, 0, 0, 0, 0, 1, 1, 1, 3, 3, 3, 1, 1,11,11,11,11,11,11, 1, 1, 3, 3, 3, 1, 1, 1, 1, 1, 0, 0, 0],
  [ 0, 0, 0, 0, 1,17, 3, 3, 3, 3, 3, 3, 3, 1, 1, 1, 1, 1, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 1, 0, 0],
  [ 0, 0, 0, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 3, 1, 0],
  [ 0, 0, 1,14, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5,13, 1, 0],
  [ 0, 0, 1,14, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5,13, 1, 0],
  [ 0, 0, 0, 1, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 3, 1, 0],
  [ 0, 0, 0, 0, 1,17, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 3, 5, 1, 0, 0],
  [ 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0],
  [ 0, 0, 0, 0, 1,16,16, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,16,16, 1, 0, 0, 0, 0],
  [ 0, 0, 0, 1,31,31,31,31, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,31,31,31,31, 1, 0, 0, 0],
  [ 0, 0, 0, 0, 1,31,31, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,31,31, 1, 0, 0, 0, 0],
  [ 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0],
];

// Helper to recolor a sprite by swapping one palette index for another
function recolorSprite(pixels: SpritePixels, from: number, to: number): SpritePixels {
  return pixels.map(row => row.map(px => px === from ? to : px));
}

// Blue car variant — same shape as CAR with cranberry (3) recolored to medium blue (10)
const CAR_BLUE = recolorSprite(CAR, 3, 10);

// Truck: 48x16 — green delivery truck facing right
// Cab on right side with windshield, long cargo box on left
// Gold accent stripes on cargo, headlights on cab
// prettier-ignore
const TRUCK: SpritePixels = [
  [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0],
  [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 7,14,14,14,14, 7, 7, 1, 0, 0, 0, 0],
  [ 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 7, 7,14,11,13,13,11,14, 7, 1, 0, 0, 0],
  [ 0, 1, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,14,11,13,13,11,14, 7, 7, 1, 0, 0],
  [ 1, 7, 7, 7, 7, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 5, 5, 7, 7, 7, 7, 7, 7, 1, 1, 1, 1, 1, 1, 7, 7, 7, 1, 0],
  [ 1, 7, 7, 5, 5, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 5, 5, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 5, 1, 0],
  [ 1, 7, 7, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 5, 5, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 5, 1, 0],
  [ 1, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,13, 1, 0],
  [ 1, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7,13, 1, 0],
  [ 1, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 1, 0],
  [ 0, 1, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 7, 1, 0],
  [ 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
  [ 0, 0, 0, 0, 1,16,16,16, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,16,16,16, 1, 0, 0, 0, 0],
  [ 0, 0, 0, 1,31,31,31,31,31, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,31,31,31,31,31, 1, 0, 0, 0],
  [ 0, 0, 0, 0, 1,31,31,31, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,31,31,31, 1, 0, 0, 0, 0],
  [ 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0, 0, 0, 0, 0],
];

// Train: 64x16 — steel/slate railroad car facing right
// Headlight on nose (right), red rear light (left), yellow safety stripes,
// dark windows, heavier wheel bogies
// prettier-ignore
const TRAIN: SpritePixels = [
  [ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0],
  [ 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,13,13, 1, 0],
  [ 0, 1,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14, 1, 0],
  [ 1,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15, 1],
  [ 1,15,15,15,15, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,15,15,15,15,15,15, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,15,15, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,15,15,15,15,15,15, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,15,15,15,15, 1],
  [ 1,15,15,15, 1,16,16,16,16,16,16,16,16,16,16, 1,15,15,15,15, 1,16,16,16,16,16,16,16,16,16,16, 1, 1,16,16,16,16,16,16,16,16,16,16, 1,15,15,15,15, 1,16,16,16,16,16,16,16,16,16,16, 1,15,15,15, 1],
  [ 1,15,15,15, 1,16,16,16,16,16,16,16,16,16,16, 1,15,15,15,15, 1,16,16,16,16,16,16,16,16,16,16, 1, 1,16,16,16,16,16,16,16,16,16,16, 1,15,15,15,15, 1,16,16,16,16,16,16,16,16,16,16, 1,15,15,15, 1],
  [ 1,15,15,15, 1,16,16,16,16,16,16,16,16,16,16, 1,15,15,15,15, 1,16,16,16,16,16,16,16,16,16,16, 1, 1,16,16,16,16,16,16,16,16,16,16, 1,15,15,15,15, 1,16,16,16,16,16,16,16,16,16,16, 1,15,15,15, 1],
  [ 1,15,15,15,15, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,15,15,15,15,15,15, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,15,15, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,15,15,15,15,15,15, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1,15,15,15,15, 1],
  [ 1,30,29,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,29,29,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,29,29,15,15,15,15,15,15,15,15,15,15,15,15,15,15,29,13, 1],
  [ 1,30,29,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,29,29,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,29,29,15,15,15,15,15,15,15,15,15,15,15,15,15,15,29,13, 1],
  [ 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0],
  [ 0, 0, 0, 1,16,16, 1, 0, 0, 1,16,16, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,16,16, 1, 0, 0, 1,16,16, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,16,16, 1, 0, 0, 1,16,16, 1, 0, 0, 0, 0, 0, 0, 0, 1,16,16, 1, 0],
  [ 0, 0, 1,31,31,31,31, 1, 1,31,31,31,31, 1, 0, 0, 0, 0, 0, 0, 0, 1,31,31,31,31, 1, 1,31,31,31,31, 1, 0, 0, 0, 0, 0, 0, 0, 0, 1,31,31,31,31, 1, 1,31,31,31,31, 1, 0, 0, 0, 0, 0, 1,31,31,31,31, 1],
  [ 0, 0, 0, 1,31,31, 1, 0, 0, 1,31,31, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,31,31, 1, 0, 0, 1,31,31, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1,31,31, 1, 0, 0, 1,31,31, 1, 0, 0, 0, 0, 0, 0, 0, 1,31,31, 1, 0],
  [ 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 0, 0],
];

// Log: 48x16 — horizontal wooden log floating on water
// Rounded ends, bark texture with knots, moss patches on top
// prettier-ignore
const LOG: SpritePixels = [
  [ 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
  [ 0, 0, 0, 0, 0, 0, 1, 1,28,28, 6,28,28,28,28,28,28,28,28,28,28,28, 6, 6,28,28,28,28,28,28, 6,28,28,28,28,28,28,28,28,28, 1, 1, 0, 0, 0, 0, 0, 0],
  [ 0, 0, 0, 0, 0, 1,28,28,28, 6, 6,27,28,28,28,28,28,28,28,28,28, 6, 6, 6, 6,28,28,28,28,28,28,28,28,28,28,28,27, 6,28,28,28,28, 1, 0, 0, 0, 0, 0],
  [ 0, 0, 0, 0, 1,28,28,27,27,28,27,27,28,28,27,28,28,28,28,28,28,28, 6,28,28,28,28,28,28,28,28,28,28,27,28,28,27,27,28,27,27,28,28, 1, 0, 0, 0, 0],
  [ 0, 0, 0, 1,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27, 1, 0, 0, 0],
  [ 0, 0, 1,27,27,27,27,27,27,27,27,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,26,27,27,27,27,27,27,27,27, 1, 0, 0],
  [ 0, 1,27,27,27,27,26,27,27,27,26, 1,26,27,27,27,27,27,27,27,27,28,27,27,27,27,28,27,27,27,27,27,27,27,27,26, 1,26,27,27,27,26,27,27,27,27, 1, 0],
  [ 0, 1,26,27,27,27,26,27,27,27,26,26,26,27,27,27,27,26,27,27,27,27,27,27,27,27,27,27,27,27,26,27,27,27,27,26,26,26,27,27,27,26,27,27,27,26, 1, 0],
  [ 0, 1,26,27,27,27,27,26,27,27,27,26,27,27,27,26,26,27,27,27,27,27,26,27,27,26,27,27,27,27,27,26,26,27,27,27,26,27,27,27,26,27,27,27,27,26, 1, 0],
  [ 0, 1,26,26,27,27,27,27,26,27,27,27,27,27,26,27,27,27,27,27,26,27,27,27,27,27,27,26,27,27,27,27,27,26,27,27,27,27,27,26,27,27,27,26,26,26, 1, 0],
  [ 0, 0, 1,26,26,27,27,27,27,26,26,27,27,26,27,27,27,27,26,26,27,27,27,27,27,27,27,27,26,26,27,27,27,27,26,27,27,26,26,27,27,27,26,26, 1, 0, 0, 0],
  [ 0, 0, 0, 1,26,26,26,27,27,27,26,26,26,27,27,27,26,26,27,27,27,27,27,27,27,27,27,27,26,26,27,27,27,26,26,26,26,26,27,27,26,26,26, 1, 0, 0, 0, 0],
  [ 0, 0, 0, 0, 1,26,26,26,26,26,26,26,26,26,26,26,26,27,26,26,26,26,26,26,26,26,26,26,26,27,26,26,26,26,26,26,26,26,26,26,26,26, 1, 0, 0, 0, 0, 0],
  [ 0, 0, 0, 0, 0, 1,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26, 1, 0, 0, 0, 0, 0, 0],
  [ 0, 0, 0, 0, 0, 0, 1, 1,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26, 1, 1, 0, 0, 0, 0, 0, 0],
  [ 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0],
];

export const OBSTACLE_SPRITES: Record<string, SpritePixels> = {
  car: CAR,
  car_blue: CAR_BLUE,
  truck: TRUCK,
  train: TRAIN,
  log: LOG,
};

export const OBSTACLE_WIDTHS: Record<string, number> = {
  car: 32,
  car_blue: 32,
  truck: 48,
  train: 64,
  log: 48,
};
